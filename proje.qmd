---
title: "Temiz Ankara: İlçelere Göre Hava Kalitesi Analizi"
number-sections: true
---

***Proje sayfamıza hoş geldiniz.***

![](/assets/images/image_2025.png){fig-align="left" width="360"}

*Projemizle ilgili güncellemelerden haberdar olmak için bu alanı takip edin.*

Proje tanıtım filmine buradan ulaşabilirsiniz.

[![](/assets/video-logo.jpg){fig-align="left" width="65" height="65"}](https://www.youtube.com)

# Proje Genel Bakış ve Kapsamı

Hava kirliliği şu anda Türkiye'deki en önemli sorunlardan biri olarak kabul ediliyor ve her yıl tahmini 30 bin kişi ilgili nedenlerle ölüyor ve ülke çapındaki tüm ölümlerin yaklaşık yüzde 8'ini temsil ediyor.

Ankara'da ve aslında Türkiye'nin birçok şehrinde kirliliğin ana nedeni, 1990 yılı itibariyle ülkede yaklaşık 4 milyon araç olan araç emisyonlarının 2020'de 25 milyona yükseldiği anlamına geliyor. Otomobiller, kamyonlar ve otobüsler gibi bu araçların çoğu, emisyonlar söz konusu olduğunda uluslararası standartları karşılamıyor ve büyük miktarlarda dizel yakıt kullanılıyor.

Ankara sınırları içinde yaklaşık 4,5 milyon nüfusa sahip olması sebebi ile yüksek nüfuslu birçok şehirde ortaya çıkan kirlilik kaynaklarına maruz kalmaktadır.

# Veri

Ankara iline ait ilçelerin 2024 yılı boyunca ölçülen hava kalitesi verileri.

## Veri Kaynağı

[https://sim.csb.gov.tr](https://sim.csb.gov.tr/STN/STN_Report/StationDataDownloadNew){.uri}

## Veri Hakkında Genel Bilgiler

-   Veride birden fazla hava kalitesi izleme istasyonu bulunmakta. İstasyon sütunu istasyon adlarını içermektedir.

-   Ölçümler saatlik olarak yapılmış. Tarih sütunu zaman bilgisini içerir ve yıl boyunca veri mevcuttur.

-   Veride birden fazla hava kalitesi izleme istasyonu bulunmakta. İstasyon sütunu istasyon adlarını içermektedir.

-   Aşağıdaki 6 temel hava kirleticinin saatlik ölçümleri yer alıyor.

    `PM10` (Partikül madde ≤10 µm)

    `PM2.5` (Partikül madde ≤2.5 µm)

    `SO2` (Kükürt dioksit)

    `NO2` (Azot dioksit)

    `NOX` (Azot oksitler toplamı)

    `NO` (Azot monoksit)

-   Veri setinde yaklaşık olarak **86.000+** gözlem bulunmaktadır (tüm istasyonlar dahil).

    Sayısal değerler nokta yerine virgül ile girilmişti; bu durum düzeltilerek sayısal veri türüne dönüştürüldü.

    Eksik değerler bazı sütunlarda mevcut ancak analiz için uygun şekilde ortalama alımı, sınıflandırma için filtreleme yapılmıştır.

-   **Kapsanan Zaman Aralığı:**1 Ocak 2024 – 31 Aralık 2024 arası (saatlik veriler).

## Tercih Sebebi

-   **Zaman Serisi Analizi İçin Uygunluk:**

    Veri saatlik ölçümler içerdiğinden yıl boyu zaman serisi analizleri (trend, mevsimsellik, dalgalanma) yapılmasına elverişlidir.

-   **Çoklu Değişken ve Ölçüm:**

    PM10, PM2.5, SO₂, NO₂, NOx, NO gibi farklı hava kirleticileri kapsaması sayesinde değişkenler arası **korelasyon** ve neden-sonuç ilişkileri incelenebilir.

-   **Mekânsal Karşılaştırma Yapılabilir:**

    Ankara’daki birden fazla istasyondan gelen veriler sayesinde **istasyonlar arası karşılaştırma** ve **ısı haritası görselleştirmeleri** mümkündür.

-   **Çevresel ve Toplumsal Anlam Taşıması:**

    Hava kirliliği halk sağlığını doğrudan etkileyen önemli bir çevresel sorundur; bu da çalışmayı **toplumsal açıdan anlamlı** ve güncel kılar.

-   **Modelleme ve Sınıflandırma İçin Elverişli:**

    PM10 düzeyine göre hava “Temiz” ya da “Kirli” olarak sınıflandırılabilir; bu da **makine öğrenmesi (sınıflandırma) modellerinin** uygulanmasına olanak tanır.

-   **Kamuya Açık ve Gerçek Veridir:**

    Verinin gerçek, ham ve karmaşık olması, dersin amacı doğrultusunda **veri temizleme, keşifsel analiz ve modelleme** gibi tüm süreci uygulamalı yapmaya olanak sağlar.

-   **Etkileşimli Uygulamalar için Uygunluk:**

    Verinin zaman ve istasyon bazlı olması sayesinde **Shiny veya Quarto Widget gibi etkileşimli uygulamalarda** kullanılabilir, kullanıcıya veriyle oynama şansı tanır.

## Ön İşleme

## Gerekli kütüphaneler

## Veri Analizi ve Ön İşleme

## 1. Veri Yükleme ve Temizleme

```{r}

# install.packages("readr")
# install.packages("corrplot")
library(tidyverse)
library(lubridate)
library(ggplot2)
library(reshape2)
library(corrplot)
library(rpart)
library(rpart.plot)
library(shiny)
library(DT)
library(viridis)
library(readr)
library(stringr)
library(dplyr)
library(corrplot)

# CSV dosyasını yükleme
veri <- read.csv("ankara_hava_kalitesi.csv", header=TRUE)

# Son sütunun sayısını bulalım
son_sutun_indeksi <- ncol(veri)

# Son sütunu hariç tutarak yeni bir veri çerçevesi oluşturalım
veri <- veri[, -son_sutun_indeksi]

# Sütun adlarını temizle
colnames(veri) <- c("Istasyon", "Tarih", "PM10", "PM2_5", "SO2", "NO2", "NOX", "NO")

# Nokta yerine virgül kullanılmış, düzelt
numeric_cols <- c("PM10", "PM2_5", "SO2", "NO2", "NOX", "NO")
veri[numeric_cols] <- lapply(veri[numeric_cols], function(x) as.numeric(str_replace(x, ",", ".")))

# Tarih-saat formatını düzenle
veri$Tarih <- dmy_hms(veri$Tarih)
veri$Saat <- hour(veri$Tarih)
veri$Ay <- month(veri$Tarih, label = TRUE)


## Keşifsel Veri Analizi

## 1.Zaman Serisi Analizi


daily_avg <- veri %>%
  mutate(Gun = as_date(Tarih)) %>%
  group_by(Gun) %>%
  summarise(across(all_of(numeric_cols), mean, na.rm = TRUE))

ggplot(daily_avg, aes(x = Gun, y = PM10)) +
  geom_line(color = "firebrick") +
  labs(title = "Günlük Ortalama PM10 (2024)", x = "Tarih", y = "PM10 (µg/m³)")
```

## 2. Isı Haritası Analizi

```{r}
heat_data <- veri %>%
  group_by(Saat, Ay) %>%
  summarise(PM2_5 = mean(PM2_5, na.rm = TRUE))

ggplot(heat_data, aes(x = Ay, y = Saat, fill = PM2_5)) +
  geom_tile(color = "white") +
  scale_fill_viridis(name = "PM2.5", option = "C") +
  labs(title = "PM2.5 Isı Haritası (Saat x Ay)", x = "Ay", y = "Saat") +
  theme_minimal()

```

## Trend Analizi

## 1. Korelasyon Analizi

```{r}
cor_data <- veri %>%
  select(all_of(numeric_cols)) %>%
  drop_na()

corr_matrix <- cor(cor_data)
corrplot(corr_matrix, method = "color", type = "lower", tl.col = "black"
)
```

## Model Uydurma

## 1. Sınıflandırma Modeli

```{r}
# PM10'u sınıflara ayıralım (örnek: temiz - kirli)
veri$class <- ifelse(veri$PM10 > 50, "Kirli", "Temiz")
data_model <- veri %>%
  select(PM10, PM2_5, SO2, NO2, NOX, NO, class) %>%
  drop_na()

# Eğitim-test bölmesi
set.seed(123)
sample_idx <- sample(1:nrow(data_model), 0.7 * nrow(data_model))
train <- data_model[sample_idx, ]
test <- data_model[-sample_idx, ]


# Model: Karar ağacı (rpart)
model <- rpart(class ~ ., data = train, method = "class")
rpart.plot(model)

# Doğruluk oranı
pred <- predict(model, test, type = "class")
accuracy <- mean(pred == test$class)
print(paste("Doğruluk: ", round(accuracy * 100, 2), "%"))

```

## Görselleştirme

```{r}
## 1. Etkileşimli Grafik: İstasyona göre PM2.5


```

## Sonuçlar

# Sonuçlar ve Ana Çıkarımlar

# Kaynaklar

\#[https://sim.csb.gov.tr](https://sim.csb.gov.tr/STN/STN_Report/StationDataDownloadNew)

\#<https://www.iqair.com/us/turkey/ankara/ankara>

\#<https://aqicn.org/city/turkey/ankara/ulus-trafik/>

\#<https://quarto.org/docs/interactive/widgets/jupyter.html>

#https://plotly.com/python/tile-county-choropleth/

\`\`\`
