---
title: "Temiz Ankara: İlçelere Göre Hava Kalitesi Analizi"
number-sections: true
---

***Proje sayfamıza hoş geldiniz.***

![](/assets/images/image_2025.png){fig-align="left" width="360"}

*Projemizle ilgili güncellemelerden haberdar olmak için bu alanı takip edin.*

Proje tanıtım filmine buradan ulaşabilirsiniz.

[![](/assets/video-logo.jpg){fig-align="left" width="65" height="65"}](https://drive.google.com/file/d/1HfC04EG926MEaKpkCcZERJdy1K6iXkUN/view?usp=share_link)

# Proje Genel Bakış ve Kapsamı

Hava kirliliği şu anda Türkiye'deki en önemli sorunlardan biri olarak kabul ediliyor ve her yıl tahmini 30 bin kişi ilgili nedenlerle ölüyor ve ülke çapındaki tüm ölümlerin yaklaşık yüzde 8'ini temsil ediyor.

Ankara'da ve aslında Türkiye'nin birçok şehrinde kirliliğin ana nedeni, 1990 yılı itibariyle ülkede yaklaşık 4 milyon araç olan araç emisyonlarının 2020'de 25 milyona yükseldiği anlamına geliyor. Otomobiller, kamyonlar ve otobüsler gibi bu araçların çoğu, emisyonlar söz konusu olduğunda uluslararası standartları karşılamıyor ve büyük miktarlarda dizel yakıt kullanılıyor.

Ankara sınırları içinde yaklaşık 4,5 milyon nüfusa sahip olması sebebi ile yüksek nüfuslu birçok şehirde ortaya çıkan kirlilik kaynaklarına maruz kalmaktadır.

# Veri

Ankara iline ait ilçelerin 2024 yılı boyunca ölçülen hava kalitesi verileri.

## Veri Kaynağı

[https://sim.csb.gov.tr](https://sim.csb.gov.tr/STN/STN_Report/StationDataDownloadNew){.uri}

## Veri Hakkında Genel Bilgiler

-   Veride birden fazla hava kalitesi izleme istasyonu bulunmakta. İstasyon sütunu istasyon adlarını içermektedir.

-   Ölçümler saatlik olarak yapılmış. Tarih sütunu zaman bilgisini içerir ve yıl boyunca veri mevcuttur.

-   Veride birden fazla hava kalitesi izleme istasyonu bulunmakta. İstasyon sütunu istasyon adlarını içermektedir.

-   Aşağıdaki 2 temel hava kirleticinin saatlik ölçümleri yer alıyor.

    `PM10` (Partikül madde ≤10 µm)

    `PM2.5` (Partikül madde ≤2.5 µm)

-   Veri setinde yaklaşık olarak **86.000+** gözlem bulunmaktadır (tüm istasyonlar dahil).

    Sayısal değerler nokta yerine virgül ile girilmişti; bu durum düzeltilerek sayısal veri türüne dönüştürüldü.

    Eksik değerler bazı sütunlarda mevcut ancak analiz için uygun şekilde ortalama alımı, sınıflandırma için filtreleme yapılmıştır.

-   **Kapsanan Zaman Aralığı:**1 Ocak 2024 – 31 Aralık 2024 arası (saatlik veriler).

#### **PM10**

Havadaki çapı 10 mikrometreden (µm) daha küçük olan partikül maddeleri ifade eder. Bu partiküller, solunduğunda burun ve boğazı geçerek akciğerlere kadar ulaşabilirler. Bu nedenle, insan sağlığı üzerinde olumsuz etkilere sahip potansiyel hava kirleticileridir. "µg/m³" ise bu partikül maddelerin bir metreküp havada kaç mikrogram bulunduğunu gösteren birimdir. PM10'un Kaynakları: PM10 partikülleri doğal ve insan kaynaklı çeşitli süreçler sonucu oluşabilir:

***Doğal Kaynaklar:***

• Rüzgarla taşınan toz ve toprak: Özellikle kurak ve yarı kurak bölgelerde önemli bir kaynaktır.

• Orman yangınları ve volkanik patlamalar: Büyük miktarda partikül maddeyi atmosfere salabilirler.

• Deniz tuzu: Deniz spreyi sonucu oluşan tuz kristalleri havada asılı kalabilir.

• Polen ve bakteri parçacıkları: Biyolojik kaynaklı PM10 partikülleridir.

***İnsan Kaynaklı Kaynaklar:***

• Yanma süreçleri: o Isınma: Kömür, odun gibi yakıtların yakılması. o Sanayi: Fabrika bacalarından çıkan emisyonlar. o Enerji üretimi: Termik santraller. o Motorlu taşıtlar: Özellikle dizel araçlardan çıkan egzoz gazları ve lastik/fren aşınması. o Açık alanlarda yakılan atıklar.

• İnşaat ve yıkım faaliyetleri: Toz oluşumuna neden olur.

• Tarım faaliyetleri: Toprak işleme ve hasat sırasında toz oluşumu.

• Madencilik ve taş ocakları: Toz ve partikül emisyonları.

• Çöplükler: Toz ve biyolojik partiküllerin yayılması. PM10'un Sağlık Üzerindeki Etkileri: Solunan PM10 partikülleri, solunum sistemi ve kardiyovasküler sistem üzerinde çeşitli sağlık sorunlarına yol açabilir: Kısa Süreli Etkiler: • Öksürük, nefes darlığı, göğüste sıkışma gibi solunum yolu semptomlarında artış.

• Astım ve kronik bronşit gibi mevcut solunum yolu hastalıklarının kötüleşmesi.

• Kalp krizi ve aritmi riskinde artış (özellikle kalp hastaları için).

• Hastaneye başvurularda ve erken ölümlerde artış. Uzun Süreli Etkiler:

• Akciğer fonksiyonlarında azalma.

• Kronik solunum ve kardiyovasküler hastalıkların gelişme riskinde artış.

• Hastalığın ilerleme hızında artış.

• Yaşam süresinde kısalma.

• Çocuklarda akciğer gelişiminin olumsuz etkilenmesi.

• Hamile kadınlarda erken doğum ve düşük doğum ağırlıklı bebek riskinde artış. • Bazı çalışmalar PM10 maruziyetinin inme, Alzheimer ve Parkinson gibi nörolojik hastalıklarla da ilişkili olabileceğini göstermektedir. Bu nedenlerle, PM10 seviyelerinin izlenmesi ve kontrol altına alınması halk sağlığının korunması açısından büyük önem taşımaktadır.

Dünya Sağlık Örgütü (DSÖ), hava kalitesi kılavuzlarında PM10 için aşağıdaki sınır değerleri belirlemiştir:

• 24 saatlik ortalama: 45 µg/m³ (Bu değerin bir yılda 3 kereden fazla aşılmaması önerilir.)

• Yıllık ortalama: 15 µg/m³ Bu değerler, insan sağlığını korumak amacıyla belirlenmiş olup, PM10 kirliliğinin olası zararlı etkilerini en aza indirmeyi hedeflemektedir.

#### PM 2.5

Havadaki çapı 2.5 mikrometreden (µm) daha küçük olan ince partikül maddeleri ifade eder. Bu partiküller, PM10'a göre çok daha küçüktür ve bu nedenle solunduğunda akciğerlerin en derin bölgelerine, hatta kan dolaşımına kadar ulaşabilirler. "µg/m³" ise bu ince partiküllerin bir metreküp havada kaç mikrogram bulunduğunu gösteren birimdir. PM2.5'in Kaynakları: PM2.5 partikülleri, benzer şekilde doğal ve insan kaynaklı çeşitli süreçler sonucu oluşur, ancak daha ince oldukları için oluşum mekanizmaları ve kaynakları farklılık gösterebilir:

***Doğal Kaynaklar:***

• İkincil oluşum: Atmosferdeki gaz halindeki kirleticilerin (kükürt dioksit, azot oksitler, amonyak, uçucu organik bileşikler) kimyasal reaksiyonlara girerek oluşturduğu ince partiküller. Örneğin, sülfat ve nitrat aerosolleri. • Orman yangınları: Küçük boyutlu yanma ürünleri açığa çıkar.

• Volkanik emisyonlar: İnce kül ve aerosoller içerebilir.

• Toz fırtınaları: Çok ince toz partikülleri uzun mesafelere taşınabilir.

***İnsan Kaynaklı Kaynaklar:***

• Yanma süreçleri (daha baskın kaynaklardır): o Motorlu taşıtlar: Özellikle dizel araçların egzozundan çıkan çok ince partiküller. o Sanayi emisyonları: Fabrika bacalarından salınan ince toz ve duman. o Enerji üretimi: Termik santrallerin emisyonları. o Isınma: Kömür, odun ve diğer biyokütle yakıtlarının yanması. o Uçak yakıt artıkları. o Açık alanda atık yakılması.

• İç mekan kaynakları: o Sigara dumanı. o Yemek pişirme (özellikle yağlı ve yüksek sıcaklıkta pişirme). o Mum ve tütsü yakılması. o Ev temizlik ürünleri ve oda spreyleri gibi kimyasalların reaksiyonları. PM2.5'in Sağlık Üzerindeki Etkileri: Çok küçük boyutları nedeniyle PM2.5 partikülleri, PM10'a göre insan sağlığı için daha tehlikeli kabul edilir. Akciğerlerin derinliklerine kadar inebilir ve kan dolaşımına karışarak tüm vücuda yayılabilirler. Bu durum çeşitli ciddi sağlık sorunlarına yol açabilir.

Dünya Sağlık Örgütü (DSÖ), hava kalitesi kılavuzlarında PM2.5 için aşağıdaki sınır değerleri belirlemiştir:

• 24 saatlik ortalama: 15 µg/m³

• Yıllık ortalama: 5 µg/m³

***Etkiler:***

• Göz, burun ve boğazda tahriş.

• Öksürük, balgam ve nefes darlığı

• Astım ataklarının tetiklenmesi ve şiddetlenmesi.

• Bronşit ve diğer solunum yolu enfeksiyonlarına yatkınlık.

• Kalp krizi, inme ve düzensiz kalp atışları riskinde artış (özellikle hassas gruplarda).

• Akciğer fonksiyonlarında kalıcı azalma.

• Kronik bronşit ve amfizem gibi kronik solunum yolu hastalıklarının gelişimi.

• Akciğer kanseri riskinde artış.

• Kardiyovasküler hastalıkların gelişimi ve ilerlemesi (damar sertliği, yüksek tansiyon).

• Erken ölüm riskinde artış.

• Çocuklarda akciğer gelişiminin olumsuz etkilenmesi.

• Sinir sistemi üzerinde olumsuz etkiler (Alzheimer ve Parkinson gibi nörolojik hastalıklarla olası bağlantılar araştırılmaktadır).

• Hamilelikte olumsuz etkiler (erken doğum, düşük doğum ağırlığı). • Bağışıklık sisteminin zayıflaması.

## Tercih Sebebi

-   **Zaman Serisi Analizi İçin Uygunluk:**

    Veri saatlik ölçümler içerdiğinden yıl boyu zaman serisi analizleri (trend, mevsimsellik, dalgalanma) yapılmasına elverişlidir.

-   **Çoklu Değişken ve Ölçüm:**

    PM10, PM2.5, SO₂, NO₂, NOx, NO gibi farklı hava kirleticileri kapsaması sayesinde değişkenler arası **korelasyon** ve neden-sonuç ilişkileri incelenebilir.

-   **Mekânsal Karşılaştırma Yapılabilir:**

    Ankara’daki birden fazla istasyondan gelen veriler sayesinde **istasyonlar arası karşılaştırma** ve **ısı haritası görselleştirmeleri** mümkündür.

-   **Çevresel ve Toplumsal Anlam Taşıması:**

    Hava kirliliği halk sağlığını doğrudan etkileyen önemli bir çevresel sorundur; bu da çalışmayı **toplumsal açıdan anlamlı** ve güncel kılar.

-   **Modelleme ve Sınıflandırma İçin Elverişli:**

    PM10 düzeyine göre hava “Temiz” ya da “Kirli” olarak sınıflandırılabilir; bu da **makine öğrenmesi (sınıflandırma) modellerinin** uygulanmasına olanak tanır.

-   **Kamuya Açık ve Gerçek Veridir:**

    Verinin gerçek, ham ve karmaşık olması, dersin amacı doğrultusunda **veri temizleme, keşifsel analiz ve modelleme** gibi tüm süreci uygulamalı yapmaya olanak sağlar.

-   **Etkileşimli Uygulamalar için Uygunluk:**

    Verinin zaman ve istasyon bazlı olması sayesinde **Shiny veya Quarto Widget gibi etkileşimli uygulamalarda** kullanılabilir, kullanıcıya veriyle oynama şansı tanır.

## Veri Analizi ve Ön İşleme

## 1. Veri Yükleme ve Temizleme

## 2. Analizler

```{r}

# install.packages("readr")
# install.packages("corrplot")
# install.packages("tidyr")

library(tidyverse)
library(lubridate)
library(ggplot2)
library(reshape2)
library(corrplot)
library(rpart)
library(rpart.plot)
library(shiny)
library(DT)
library(viridis)
library(readr)
library(stringr)
library(dplyr)
library(corrplot)

# CSV dosyasını yükleme
veri <- read.csv("ankara_hava_kalitesi.csv", header=TRUE)

# Son sütunun sayısını bulalım
son_sutun_indeksi <- ncol(veri)

# Son sütunu hariç tutarak yeni bir veri çerçevesi oluşturalım
veri <- veri[, -son_sutun_indeksi]

# Sütun adlarını temizle
colnames(veri) <- c("Istasyon", "Tarih", "PM10", "PM2_5", "SO2", "NO2", "NOX", "NO")

# Nokta yerine virgül kullanılmış, düzelt
numeric_cols <- c("PM10", "PM2_5", "SO2", "NO2", "NOX", "NO")
veri[numeric_cols] <- lapply(veri[numeric_cols], function(x) as.numeric(str_replace(x, ",", ".")))

# Tarih-saat formatını düzenle
veri$Tarih <- dmy_hms(veri$Tarih)
veri$Saat <- hour(veri$Tarih)
veri$Ay <- month(veri$Tarih, label = TRUE)
```

## Keşifsel Veri Analizi

## 1.Zaman Serisi Analizi

```{r}
daily_avg <- veri %>%
  mutate(Gun = as_date(Tarih)) %>%
  group_by(Gun) %>%
  summarise(across(all_of(numeric_cols), mean, na.rm = TRUE))

ggplot(daily_avg, aes(x = Gun, y = PM10)) +
  geom_line(color = "firebrick") +
  labs(title = "Günlük Ortalama PM10 (2024)", x = "Tarih", y = "PM10 (µg/m³)")

ggplot(daily_avg, aes(x = Gun, y = PM2_5)) +
  geom_line(color = "firebrick") +
  labs(title = "Günlük Ortalama PM2_5 (2024)", x = "Tarih", y = "PM2_5 (µg/m³)")
```

Yıl boyunca PM10 konsantrasyonlarında belirgin dalgalanmalar görülmektedir. Belirli dönemlerde yüksek zirveler, diğer dönemlerde ise daha düşük ve stabil seviyeler mevcuttur. Nisan 2024'teki ve Ekim/Kasım 2024'teki zirveler, yılın en yüksek kirlilik zamanlarını göstermektedir. Özellikle Nisan ayındaki zirve oldukça keskin ve yüksektir. Haziran-Temmuz-Ağustos ayları genel olarak daha temiz hava koşullarına işaret ederken, kış ve sonbahar ayları (özellikle Nisan başı ve Ekim'den itibaren) daha yüksek PM10 konsantrasyonlarını göstermektedir.

## 2. Isı Haritası Analizi

```{r}
heat_data <- veri %>%
  group_by(Saat, Ay) %>%
  summarise(PM2_5 = mean(PM2_5, na.rm = TRUE))

ggplot(heat_data, aes(x = Ay, y = Saat, fill = PM2_5)) +
  geom_tile(color = "white") +
  scale_fill_viridis(name = "PM2.5", option = "C") +
  labs(title = "PM2.5 Isı Haritası (Saat x Ay)", x = "Ay", y = "Saat") +
  theme_minimal()

heat_data <- veri %>%
  group_by(Saat, Ay) %>%
  summarise(PM10 = mean(PM10, na.rm = TRUE))

ggplot(heat_data, aes(x = Ay, y = Saat, fill = PM10)) +
  geom_tile(color = "green") +
  scale_fill_viridis(name = "PM10", option = "C") +
  labs(title = "PM10 Isı Haritası (Saat x Ay)", x = "Ay", y = "Saat") +
  theme_minimal()
```

## Trend Analizi

# Gerekirse tarih sütununu dönüştür

veri$Tarih <- as.Date(veri$Tarih)

# PM2.5 ve PM10'u uzun formata getir

veri_uzun \<- veri %\>% pivot_longer(cols = c(`PM2_5`, PM10), names_to = "Partikul", values_to = "Deger")

# Facet'li grafik çizimi

ggplot(veri_uzun, aes(x = Tarih, y = Deger, color = Partikul)) + geom_line(alpha = 0.7) + facet_wrap(\~ Istasyon, ncol = 3, scales = "free_y") + labs(title = "Ankara'daki 9 İstasyon İçin PM2.5 ve PM10 Değerleri", x = "Tarih", y = "Değer (µg/m³)", color = "Partikül Türü") + theme_minimal() + theme( strip.text = element_text(size = 10, face = "bold"), legend.position = "bottom" )

## Model Uydurma

## 1. Sınıflandırma Modeli

# PM10'u sınıflara ayıralım (örnek: temiz - kirli)

veri$class <- ifelse(veri$PM10 \> 45, "Kirli", "Temiz") data_model \<- veri %\>% select(PM10, PM2_5, SO2, NO2, NOX, NO, class) %\>% drop_na()

# Eğitim-test bölmesi

set.seed(123) sample_idx \<- sample(1:nrow(data_model), 0.7 \* nrow(data_model)) train \<- data_model\[sample_idx, \] test \<- data_model\[-sample_idx, \]

# Model: Karar ağacı (rpart)

model \<- rpart(class \~ ., data = train, method = "class") rpart.plot(model)

# Doğruluk oranı

pred \<- predict(model, test, type = "class") accuracy \<- mean(pred == test\$class) print(paste("Doğruluk: ", round(accuracy \* 100, 2), "%"))

# PM2_5'u sınıflara ayıralım (örnek: temiz - kirli)

veri$class <- ifelse(veri$PM2_5 \> 15, "Kirli", "Temiz") data_model \<- veri %\>% select(PM10, PM2_5, SO2, NO2, NOX, NO, class) %\>% drop_na()

# Eğitim-test bölmesi

set.seed(123) sample_idx \<- sample(1:nrow(data_model), 0.7 \* nrow(data_model)) train \<- data_model\[sample_idx, \] test \<- data_model\[-sample_idx, \]

# Model: Karar ağacı (rpart)

model \<- rpart(class \~ ., data = train, method = "class") rpart.plot(model)

# Doğruluk oranı

pred \<- predict(model, test, type = "class") accuracy \<- mean(pred == test\$class) print(paste("Doğruluk: ", round(accuracy \* 100, 2), "%"))

## Görselleştirme

# İlçe bazında özet istatistikler

ilce_ozet \<- veri %\>% group_by(Istasyon) %\>% summarise( PM10_Ortalama = mean(PM10, na.rm = TRUE), PM10_Maksimum = max(PM10, na.rm = TRUE), PM10_Olcum_Sayisi = sum(!is.na(PM10)), PM2_5_Ortalama = mean(PM2_5, na.rm = TRUE), PM2_5_Maksimum = max(PM2_5, na.rm = TRUE), PM2_5_Olcum_Sayisi = sum(!is.na(PM2_5)) ) %\>% arrange(desc(PM10_Ortalama))

# Görüntüleme

print(ilce_ozet)

# Grafik için uzun formata çevir

ilce_grafik \<- ilce_ozet %\>% select(Istasyon, PM10_Ortalama, PM2_5_Ortalama) %\>% pivot_longer(cols = -Istasyon, names_to = "Parametre", values_to = "Ortalama")

ggplot(ilce_grafik, aes(x = reorder(Istasyon, -Ortalama), y = Ortalama, fill = Parametre)) + geom_col(position = "dodge") + labs(title = "İlçelere Göre Ortalama PM10 ve PM2.5", x = "İlçe", y = "Ortalama (µg/m³)", fill = "Parametre") + coord_flip() + theme_minimal()

# 3 aylık dönem bilgisi (çeyrek/Q) ekle

veri$Ceyrek <- case_when(
  month(veri$Tarih) %in% 1:3 \~ "Ocak-Mart", month(veri$Tarih) %in% 4:6 ~ "Nisan-Haziran",
  month(veri$Tarih) %in% 7:9 \~ "Temmuz-Eylül", month(veri\$Tarih) %in% 10:12 \~ "Ekim-Aralık" )

# PM10 için 3 aylık ortalamalar

pm10_ceyrek \<- veri %\>% group_by(Istasyon, Ceyrek) %\>% summarise(PM10_Ortalama = mean(PM10, na.rm = TRUE)) %\>% ungroup()

# Sütun sırası için Ceyrek'i faktörleştir

pm10_ceyrek$Ceyrek <- factor(pm10_ceyrek$Ceyrek, levels = c("Ocak-Mart", "Nisan-Haziran", "Temmuz-Eylül", "Ekim-Aralık"))

# Grafik: PM10

ggplot(pm10_ceyrek, aes(x = Istasyon, y = PM10_Ortalama, fill = Ceyrek)) + geom_col(position = "dodge") + labs(title = "İstasyona Göre 3 Aylık Ortalama PM10", x = "İstasyon", y = "PM10 (µg/m³)", fill = "Dönem") + theme_minimal() + theme(axis.text.x = element_text(angle = 45, hjust = 1)) + scale_fill_brewer(palette = "Set2")

# PM2.5 için 3 aylık ortalamalar

pm25_ceyrek \<- veri %\>% group_by(Istasyon, Ceyrek) %\>% summarise(PM2_5_Ortalama = mean(PM2_5, na.rm = TRUE)) %\>% ungroup()

pm25_ceyrek$Ceyrek <- factor(pm25_ceyrek$Ceyrek, levels = c("Ocak-Mart", "Nisan-Haziran", "Temmuz-Eylül", "Ekim-Aralık"))

# Grafik: PM2.5

ggplot(pm25_ceyrek, aes(x = Istasyon, y = PM2_5_Ortalama, fill = Ceyrek)) + geom_col(position = "dodge") + labs(title = "İstasyona Göre 3 Aylık Ortalama PM2.5", x = "İstasyon", y = "PM2.5 (µg/m³)", fill = "Dönem") + theme_minimal() + theme(axis.text.x = element_text(angle = 45, hjust = 1)) + scale_fill_brewer(palette = "Set2")

# PM10 için İlçelere Göre Boxplot

ggplot(veri, aes(x = Istasyon, y = PM10)) + geom_boxplot(fill = "skyblue") + labs(title = "İlçelere Göre PM10 Dağılımı", x = "İlçe", y = "PM10 (µg/m³)") + theme_minimal() + theme(axis.text.x = element_text(angle = 45, hjust = 1))

# PM2.5 için İlçelere Göre Boxplot

ggplot(veri, aes(x = Istasyon, y = PM2_5)) + geom_boxplot(fill = "salmon") + labs(title = "İlçelere Göre PM2.5 Dağılımı", x = "İlçe", y = "PM2.5 (µg/m³)") + theme_minimal() + theme(axis.text.x = element_text(angle = 45, hjust = 1))

\`\`\`

# Sonuçlar ve Ana Çıkarımlar

# Kaynaklar

\#[https://sim.csb.gov.tr](https://sim.csb.gov.tr/STN/STN_Report/StationDataDownloadNew)

\#<https://www.iqair.com/us/turkey/ankara/ankara>

\#<https://aqicn.org/city/turkey/ankara/ulus-trafik/>

\#<https://quarto.org/docs/interactive/widgets/jupyter.html>

#https://plotly.com/python/tile-county-choropleth

\`\`\`
